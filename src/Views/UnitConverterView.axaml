<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:DevUtilities.ViewModels"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="600"
             x:Class="DevUtilities.Views.UnitConverterView"
             x:DataType="vm:UnitConverterViewModel">

  <ScrollViewer>
    <StackPanel Margin="24" Spacing="20">
      
      <!-- 标题 -->
      <TextBlock Text="单位转换器" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,10"/>
      
      <!-- 类别选择 -->
      <Border Background="White" CornerRadius="8" Padding="16" BorderBrush="#E0E0E0" BorderThickness="1">
        <StackPanel Spacing="12">
          <TextBlock Text="转换类别" FontSize="14" FontWeight="SemiBold"/>
          <ComboBox ItemsSource="{Binding Categories}" 
                    SelectedItem="{Binding SelectedCategory}"
                    HorizontalAlignment="Stretch"
                    FontSize="14"/>
        </StackPanel>
      </Border>

      <!-- 转换面板 -->
      <Border Background="White" CornerRadius="8" Padding="16" BorderBrush="#E0E0E0" BorderThickness="1">
        <Grid RowDefinitions="Auto,20,Auto,20,Auto,20,Auto" ColumnDefinitions="*,20,Auto,20,*">
          
          <!-- 输入部分 -->
          <StackPanel Grid.Row="0" Grid.Column="0" Spacing="8">
            <TextBlock Text="从" FontSize="12" Foreground="#666666"/>
            <ComboBox ItemsSource="{Binding FromUnits}" 
                      SelectedItem="{Binding SelectedFromUnit}"
                      HorizontalAlignment="Stretch"
                      FontSize="14"/>
          </StackPanel>

          <!-- 交换按钮 -->
          <Button Grid.Row="0" Grid.Column="2" 
                  Content="⇄" 
                  Command="{Binding SwapUnitsCommand}"
                  FontSize="16"
                  Width="40" Height="40"
                  HorizontalContentAlignment="Center"
                  VerticalContentAlignment="Center"
                  ToolTip.Tip="交换单位"/>

          <!-- 输出部分 -->
          <StackPanel Grid.Row="0" Grid.Column="4" Spacing="8">
            <TextBlock Text="到" FontSize="12" Foreground="#666666"/>
            <ComboBox ItemsSource="{Binding ToUnits}" 
                      SelectedItem="{Binding SelectedToUnit}"
                      HorizontalAlignment="Stretch"
                      FontSize="14"/>
          </StackPanel>

          <!-- 输入值 -->
          <StackPanel Grid.Row="2" Grid.Column="0" Spacing="8">
            <TextBlock Text="输入值" FontSize="12" Foreground="#666666"/>
            <TextBox Text="{Binding InputValue}" 
                     FontSize="16" 
                     FontFamily="Consolas"
                     HorizontalAlignment="Stretch"
                     Watermark="请输入数值"/>
          </StackPanel>

          <!-- 等号 -->
          <TextBlock Grid.Row="2" Grid.Column="2" 
                     Text="=" 
                     FontSize="20" 
                     FontWeight="Bold"
                     HorizontalAlignment="Center"
                     VerticalAlignment="Center"/>

          <!-- 输出值 -->
          <StackPanel Grid.Row="2" Grid.Column="4" Spacing="8">
            <TextBlock Text="结果" FontSize="12" Foreground="#666666"/>
            <Border Background="#F5F5F5" CornerRadius="4" Padding="8">
              <TextBlock Text="{Binding OutputValue}" 
                         FontSize="16" 
                         FontFamily="Consolas"
                         FontWeight="SemiBold"
                         Foreground="#2563EB"/>
            </Border>
          </StackPanel>

          <!-- 转换公式 -->
          <Border Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="5" 
                  Background="#EFF6FF" 
                  CornerRadius="4" 
                  Padding="12">
            <TextBlock Text="{Binding ConversionFormula}" 
                       FontSize="14" 
                       FontFamily="Consolas"
                       HorizontalAlignment="Center"
                       Foreground="#1E40AF"/>
          </Border>

          <!-- 操作按钮 -->
          <StackPanel Grid.Row="6" Grid.Column="0" Grid.ColumnSpan="5" 
                      Orientation="Horizontal" 
                      HorizontalAlignment="Center" 
                      Spacing="12">
            <Button Content="清除" 
                    Command="{Binding ClearCommand}"
                    Classes="secondary-button"
                    Padding="16,8"/>
            <Button Content="复制结果" 
                    Command="{Binding CopyResultCommand}"
                    Classes="primary-button"
                    Padding="16,8"/>
          </StackPanel>
        </Grid>
      </Border>

      <!-- 使用说明 -->
      <Border Background="#F8F9FA" CornerRadius="8" Padding="16" BorderBrush="#E9ECEF" BorderThickness="1">
        <StackPanel Spacing="8">
          <TextBlock Text="使用说明" FontSize="14" FontWeight="SemiBold" Foreground="#495057"/>
          <TextBlock TextWrapping="Wrap" FontSize="12" Foreground="#6C757D">
            <Run Text="• 选择转换类别（长度、重量、温度等）"/>
            <LineBreak/>
            <Run Text="• 选择源单位和目标单位"/>
            <LineBreak/>
            <Run Text="• 输入数值，系统会自动进行转换"/>
            <LineBreak/>
            <Run Text="• 点击交换按钮可以快速交换单位"/>
            <LineBreak/>
            <Run Text="• 支持小数和科学计数法输入"/>
          </TextBlock>
        </StackPanel>
      </Border>

      <!-- 常用转换表 -->
      <Border Background="White" CornerRadius="8" Padding="16" BorderBrush="#E0E0E0" BorderThickness="1">
        <StackPanel Spacing="12">
          <TextBlock Text="常用转换参考" FontSize="14" FontWeight="SemiBold"/>
          <Grid RowDefinitions="Auto,Auto,Auto,Auto,Auto" ColumnDefinitions="*,*">
            <TextBlock Grid.Row="0" Grid.Column="0" Text="长度: 1米 = 100厘米 = 1000毫米" FontSize="12" Foreground="#666666"/>
            <TextBlock Grid.Row="0" Grid.Column="1" Text="重量: 1千克 = 1000克 = 2.20462磅" FontSize="12" Foreground="#666666"/>
            <TextBlock Grid.Row="1" Grid.Column="0" Text="温度: 0°C = 32°F = 273.15K" FontSize="12" Foreground="#666666"/>
            <TextBlock Grid.Row="1" Grid.Column="1" Text="面积: 1平方米 = 10000平方厘米" FontSize="12" Foreground="#666666"/>
            <TextBlock Grid.Row="2" Grid.Column="0" Text="体积: 1升 = 1000毫升" FontSize="12" Foreground="#666666"/>
            <TextBlock Grid.Row="2" Grid.Column="1" Text="时间: 1小时 = 60分钟 = 3600秒" FontSize="12" Foreground="#666666"/>
            <TextBlock Grid.Row="3" Grid.Column="0" Text="速度: 1米/秒 = 3.6千米/小时" FontSize="12" Foreground="#666666"/>
            <TextBlock Grid.Row="3" Grid.Column="1" Text="压力: 1大气压 = 101325帕斯卡" FontSize="12" Foreground="#666666"/>
          </Grid>
        </StackPanel>
      </Border>

    </StackPanel>
  </ScrollViewer>

</UserControl>