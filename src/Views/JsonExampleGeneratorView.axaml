<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:DevUtilities.ViewModels"
             xmlns:converters="using:DevUtilities.Converters"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="600"
             x:Class="DevUtilities.Views.JsonExampleGeneratorView"
             x:DataType="vm:JsonExampleGeneratorViewModel">

  <ScrollViewer>
    <StackPanel Spacing="20" Margin="20">
      
      <!-- æ ‡é¢˜åŒºåŸŸ -->
      <StackPanel Spacing="6">
        <TextBlock Text="JSONç¤ºä¾‹ç”Ÿæˆå™¨" 
                   FontSize="26" 
                   FontWeight="Bold" 
                   Foreground="{DynamicResource SystemAccentColor}"/>
        <TextBlock Text="æ”¯æŒç±»å®šä¹‰ä¸ŽJSONä¹‹é—´çš„åŒå‘è½¬æ¢" 
                   FontSize="13" 
                   Foreground="{DynamicResource TextFillColorSecondaryBrush}"/>
      </StackPanel>
      
      <!-- æŽ§åˆ¶é¢æ¿ -->
      <Border Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
              CornerRadius="12"
              Padding="20"
              BoxShadow="0 2 8 0 #10000000">
        <StackPanel Spacing="16">
          <TextBlock Text="è½¬æ¢é€‰é¡¹ä¸Žæ“ä½œ" FontWeight="SemiBold" FontSize="16"/>
          
          <!-- è½¬æ¢æ¨¡å¼é€‰æ‹© -->
          <StackPanel Spacing="8">
            <TextBlock Text="è½¬æ¢æ¨¡å¼" FontWeight="SemiBold" FontSize="13"/>
            <StackPanel Orientation="Horizontal" Spacing="16">
              <RadioButton Content="ç±»å®šä¹‰ â†’ JSONç¤ºä¾‹" 
                           IsChecked="{Binding IsClassToJsonMode}"
                           GroupName="ConversionMode"/>
              <RadioButton Content="JSON â†’ ç±»å®šä¹‰" 
                           IsChecked="{Binding !IsClassToJsonMode}"
                           GroupName="ConversionMode"/>
            </StackPanel>
          </StackPanel>
          
          <!-- é€‰é¡¹è®¾ç½® -->
          <Grid ColumnDefinitions="*,*,*,*" ColumnSpacing="16">
            <!-- è¯­è¨€é€‰æ‹© -->
            <StackPanel Grid.Column="0" Spacing="6">
              <TextBlock Text="ç¼–ç¨‹è¯­è¨€" FontWeight="SemiBold" FontSize="13"/>
              <ComboBox ItemsSource="{Binding SupportedLanguages}"
                        SelectedItem="{Binding SelectedLanguage}"
                        Height="32"
                        HorizontalAlignment="Stretch"/>
            </StackPanel>
            
            <!-- åŒ…å«ç©ºå€¼ (ä»…åœ¨ç±»åˆ°JSONæ¨¡å¼ä¸‹æ˜¾ç¤º) -->
            <StackPanel Grid.Column="1" Spacing="6" IsVisible="{Binding IsClassToJsonMode}">
              <TextBlock Text="ç©ºå€¼å¤„ç†" FontWeight="SemiBold" FontSize="13"/>
              <ToggleSwitch IsChecked="{Binding IncludeNullValues}"
                            OnContent="åŒ…å«ç©ºå€¼"
                            OffContent="å¿½ç•¥ç©ºå€¼"
                            Height="32"
                            HorizontalAlignment="Stretch"/>
            </StackPanel>
            
            <!-- éšæœºå€¼ (ä»…åœ¨ç±»åˆ°JSONæ¨¡å¼ä¸‹æ˜¾ç¤º) -->
            <StackPanel Grid.Column="2" Spacing="6" IsVisible="{Binding IsClassToJsonMode}">
              <TextBlock Text="æ•°æ®ç”Ÿæˆ" FontWeight="SemiBold" FontSize="13"/>
              <ToggleSwitch IsChecked="{Binding UseRandomValues}"
                            OnContent="éšæœºæ•°æ®"
                            OffContent="å›ºå®šæ•°æ®"
                            Height="32"
                            HorizontalAlignment="Stretch"/>
            </StackPanel>
            
            <!-- æ ¼å¼åŒ– -->
            <StackPanel Grid.Column="3" Spacing="6">
              <TextBlock Text="è¾“å‡ºæ ¼å¼" FontWeight="SemiBold" FontSize="13"/>
              <ToggleSwitch IsChecked="{Binding PrettyFormat}"
                            OnContent="æ ¼å¼åŒ–"
                            OffContent="åŽ‹ç¼©"
                            Height="32"
                            HorizontalAlignment="Stretch"/>
            </StackPanel>
          </Grid>
          
          <!-- æ“ä½œæŒ‰é’® -->
          <Grid ColumnDefinitions="*,*,*,*,*" ColumnSpacing="8">
            <Button Grid.Column="0" 
                    Content="{Binding ConvertButtonText}" 
                    Command="{Binding FormatCommand}"
                    Classes="accent"
                    Height="36"
                    Padding="12,8"
                    FontSize="13"
                    FontWeight="SemiBold"
                    ToolTip.Tip="{Binding ConvertButtonTooltip}"/>
            <Button Grid.Column="1" 
                    Content="ðŸ“‹ å¤åˆ¶" 
                    Command="{Binding CopyCommand}"
                    Height="36"
                    Padding="12,8"
                    FontSize="13"
                    FontWeight="SemiBold"
                    ToolTip.Tip="å¤åˆ¶è¾“å‡º (Ctrl+C)"/>
            <Button Grid.Column="2" 
                    Content="ðŸ”„ äº¤æ¢" 
                    Command="{Binding SwapInputOutputCommand}"
                    Height="36"
                    Padding="12,8"
                    FontSize="13"
                    FontWeight="SemiBold"
                    ToolTip.Tip="äº¤æ¢è¾“å…¥è¾“å‡º (Ctrl+S)"/>
            <Button Grid.Column="3" 
                    Content="ðŸ“ ç¤ºä¾‹" 
                    Command="{Binding UseExampleCommand}"
                    Height="36"
                    Padding="12,8"
                    FontSize="13"
                    FontWeight="SemiBold"
                    ToolTip.Tip="åŠ è½½ç¤ºä¾‹ä»£ç "/>
            <Button Grid.Column="4" 
                    Content="ðŸ—‘ï¸ æ¸…ç©º" 
                    Command="{Binding ClearCommand}"
                    Height="36"
                    Padding="12,8"
                    FontSize="13"
                    FontWeight="SemiBold"
                    ToolTip.Tip="æ¸…ç©ºæ‰€æœ‰å†…å®¹"/>
          </Grid>
        </StackPanel>
      </Border>

      <!-- é”™è¯¯æ¶ˆæ¯ -->
       <Border Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
               CornerRadius="8"
               Padding="16"
               IsVisible="{Binding HasError}">
         <StackPanel Orientation="Horizontal" Spacing="8">
           <TextBlock Text="âŒ" FontSize="16"/>
           <TextBlock Text="{Binding ErrorMessage}"
                      FontWeight="SemiBold"
                      VerticalAlignment="Center"
                      Foreground="Red"/>
         </StackPanel>
       </Border>

       <!-- æˆåŠŸæ¶ˆæ¯ -->
       <Border Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
               CornerRadius="8"
               Padding="16"
               IsVisible="{Binding HasSuccess}">
         <StackPanel Orientation="Horizontal" Spacing="8">
           <TextBlock Text="âœ…" FontSize="16"/>
           <TextBlock Text="{Binding SuccessMessage}"
                      FontWeight="SemiBold"
                      VerticalAlignment="Center"
                      Foreground="Green"/>
         </StackPanel>
       </Border>

      <!-- è¾“å…¥è¾“å‡ºåŒºåŸŸ -->
      <Grid ColumnDefinitions="*,*" ColumnSpacing="20">
        <!-- è¾“å…¥åŒºåŸŸ -->
        <Border Grid.Column="0" 
                Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                CornerRadius="12"
                Padding="0"
                BoxShadow="0 2 8 0 #10000000">
          <StackPanel>
            <!-- è¾“å…¥æ ‡é¢˜æ  -->
            <Border Background="{DynamicResource SystemAccentColorLight2}"
                    CornerRadius="12,12,0,0"
                    Padding="16,12">
              <Grid ColumnDefinitions="*,Auto">
                <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="8">
                  <TextBlock Text="ðŸ“" FontSize="16"/>
                  <TextBlock Text="{Binding InputAreaTitle}" FontWeight="SemiBold" FontSize="14" Foreground="White"/>
                </StackPanel>
                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="12">
                  <TextBlock Text="{Binding InputCharCount, StringFormat='{}{0} å­—ç¬¦'}" 
                             FontSize="12" 
                             Foreground="White" 
                             Opacity="0.8"/>
                  <TextBlock Text="{Binding InputLineCount, StringFormat='{}{0} è¡Œ'}" 
                             FontSize="12" 
                             Foreground="White" 
                             Opacity="0.8"/>
                </StackPanel>
              </Grid>
            </Border>
            
            <!-- è¾“å…¥æ–‡æœ¬æ¡† -->
            <TextBox Text="{Binding InputText}"
                     Watermark="{Binding InputPlaceholder}"
                     AcceptsReturn="True"
                     TextWrapping="Wrap"
                     FontFamily="Consolas,Monaco,monospace"
                     FontSize="13"
                     MinHeight="300"
                     Padding="16"
                     Background="Transparent"
                     BorderThickness="0"
                     CornerRadius="0,0,12,12"/>
          </StackPanel>
        </Border>

        <!-- è¾“å‡ºåŒºåŸŸ -->
        <Border Grid.Column="1" 
                Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                CornerRadius="12"
                Padding="0"
                BoxShadow="0 2 8 0 #10000000">
          <StackPanel>
            <!-- è¾“å‡ºæ ‡é¢˜æ  -->
            <Border Background="{DynamicResource SystemAccentColorLight1}"
                    CornerRadius="12,12,0,0"
                    Padding="16,12">
              <Grid ColumnDefinitions="*,Auto">
                <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="8">
                  <TextBlock Text="ðŸ“„" FontSize="16"/>
                  <TextBlock Text="{Binding OutputAreaTitle}" FontWeight="SemiBold" FontSize="14" Foreground="White"/>
                </StackPanel>
                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="12">
                  <TextBlock Text="{Binding OutputCharCount, StringFormat='{}{0} å­—ç¬¦'}" 
                             FontSize="12" 
                             Foreground="White" 
                             Opacity="0.8"/>
                  <TextBlock Text="{Binding OutputLineCount, StringFormat='{}{0} è¡Œ'}" 
                             FontSize="12" 
                             Foreground="White" 
                             Opacity="0.8"/>
                </StackPanel>
              </Grid>
            </Border>
            
            <!-- è¾“å‡ºæ–‡æœ¬æ¡† -->
            <TextBox Text="{Binding OutputText}"
                     Watermark="{Binding OutputPlaceholder}"
                     AcceptsReturn="True"
                     TextWrapping="Wrap"
                     FontFamily="Consolas,Monaco,monospace"
                     FontSize="13"
                     MinHeight="300"
                     Padding="16"
                     Background="Transparent"
                     BorderThickness="0"
                     CornerRadius="0,0,12,12"
                     IsReadOnly="True"/>
          </StackPanel>
        </Border>
      </Grid>

      <!-- ä½¿ç”¨è¯´æ˜Ž -->
      <Border Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
              CornerRadius="8"
              Padding="16">
        <StackPanel Spacing="8">
          <TextBlock Text="ðŸ’¡ ä½¿ç”¨è¯´æ˜Ž" FontWeight="SemiBold" FontSize="14"/>
          <TextBlock TextWrapping="Wrap" FontSize="12" Foreground="{DynamicResource TextFillColorSecondaryBrush}">
            <Run Text="1. é€‰æ‹©ç¼–ç¨‹è¯­è¨€ï¼ˆC# æˆ– Javaï¼‰"/>
            <LineBreak/>
            <Run Text="2. åœ¨å·¦ä¾§è¾“å…¥æ¡†ä¸­ç²˜è´´æˆ–è¾“å…¥ç±»å®šä¹‰"/>
            <LineBreak/>
            <Run Text="3. é…ç½®ç”Ÿæˆé€‰é¡¹ï¼ˆç©ºå€¼å¤„ç†ã€æ•°æ®ç±»åž‹ã€æ ¼å¼åŒ–ç­‰ï¼‰"/>
            <LineBreak/>
            <Run Text="4. ç‚¹å‡»&quot;ç”ŸæˆJSON&quot;æŒ‰é’®èŽ·å¾—ç¤ºä¾‹æ•°æ®"/>
            <LineBreak/>
            <Run Text="5. æ”¯æŒåµŒå¥—ç±»ã€æ³›åž‹é›†åˆã€æ•°ç»„ç­‰å¤æ‚ç±»åž‹"/>
          </TextBlock>
        </StackPanel>
      </Border>
      
    </StackPanel>
  </ScrollViewer>
</UserControl>