<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:DevUtilities.ViewModels"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="600"
             x:Class="DevUtilities.Views.StringEscapeView"
             x:DataType="vm:StringEscapeViewModel">
  
  <Design.DataContext>
    <vm:StringEscapeViewModel/>
  </Design.DataContext>

  <Grid RowDefinitions="Auto,*">
    
    <!-- 标题区域 -->
    <Border Grid.Row="0" Background="#F8F9FA" BorderBrush="#E0E0E0" BorderThickness="0,0,0,1" Padding="20,16">
      <StackPanel Spacing="8">
        <TextBlock Text="字符串转义/反转义工具" FontSize="24" FontWeight="Bold" />
        <TextBlock Text="支持多种编程语言和格式的字符串转义处理" FontSize="14" Foreground="#666666" />
      </StackPanel>
    </Border>
    
    <!-- 主内容区域 -->
    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
      <Grid RowDefinitions="Auto,*" Margin="20">
        
        <!-- 工具栏 -->
        <Border Grid.Row="0" Background="#F8F9FA" CornerRadius="8" Padding="16" Margin="0,0,0,16">
          <Grid ColumnDefinitions="*,*,Auto,Auto,Auto">
            
            <!-- 转义类型选择 -->
            <StackPanel Grid.Column="0" Spacing="8">
              <TextBlock Text="转义类型:" FontWeight="Medium" />
              <ComboBox ItemsSource="{Binding EscapeTypes}" 
                       SelectedItem="{Binding SelectedEscapeType}" 
                       MinWidth="150"/>
            </StackPanel>
            
            <!-- 模式选择 -->
            <StackPanel Grid.Column="1" Spacing="8" Margin="20,0,0,0">
              <TextBlock Text="操作模式:" FontWeight="Medium" />
              <StackPanel Orientation="Horizontal" Spacing="12">
                <RadioButton Content="转义" IsChecked="{Binding IsEscapeMode}" />
                <RadioButton Content="反转义" IsChecked="{Binding !IsEscapeMode}" />
              </StackPanel>
            </StackPanel>
            
            <!-- 操作按钮 -->
            <Button Grid.Column="2" Content="处理" Command="{Binding ProcessStringCommand}" 
                   Background="#007ACC" Foreground="White" Padding="12,6" Margin="20,0,8,0"/>
            <Button Grid.Column="3" Content="交换" Command="{Binding SwapInputOutputCommand}" 
                   Background="#6C757D" Foreground="White" Padding="12,6" Margin="8,0"/>
            <Button Grid.Column="4" Content="清除" Command="{Binding ClearAllCommand}" 
                   Background="#DC3545" Foreground="White" Padding="12,6" Margin="8,0,0,0"/>
          </Grid>
        </Border>
        
        <!-- 输入输出区域 -->
        <Grid Grid.Row="1" ColumnDefinitions="*,*">
          
          <!-- 输入区域 -->
          <Border Grid.Column="0" Background="#F8F9FA" CornerRadius="8" Padding="16" Margin="0,0,8,0">
            <StackPanel Spacing="12">
              <Grid ColumnDefinitions="*,Auto">
                <TextBlock Grid.Column="0" Text="输入文本" FontSize="16" FontWeight="SemiBold"/>
                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8">
                  <Button Content="示例1" Command="{Binding UseExampleCommand}" 
                         CommandParameter="Hello &quot;World&quot;&#10;New Line&#9;Tab"
                         Background="#28A745" Foreground="White" Padding="6,3" FontSize="12"/>
                  <Button Content="示例2" Command="{Binding UseExampleCommand}" 
                         CommandParameter="&lt;tag&gt;content&lt;/tag&gt;"
                         Background="#28A745" Foreground="White" Padding="6,3" FontSize="12"/>
                </StackPanel>
              </Grid>
              <TextBox Text="{Binding InputText}" 
                      AcceptsReturn="True" 
                      Height="400" 
                      ScrollViewer.VerticalScrollBarVisibility="Auto"
                      ScrollViewer.HorizontalScrollBarVisibility="Auto"
                      FontFamily="Consolas,Monaco,monospace"
                      FontSize="12"
                      Watermark="请输入需要转义的文本"/>
            </StackPanel>
          </Border>
          
          <!-- 输出区域 -->
          <Border Grid.Column="1" Background="#F8F9FA" CornerRadius="8" Padding="16" Margin="8,0,0,0">
            <StackPanel Spacing="12">
              <TextBlock Text="输出结果" FontSize="16" FontWeight="SemiBold"/>
              <TextBox Text="{Binding OutputText}" 
                      AcceptsReturn="True" 
                      Height="400" 
                      IsReadOnly="True"
                      ScrollViewer.VerticalScrollBarVisibility="Auto"
                      ScrollViewer.HorizontalScrollBarVisibility="Auto"
                      FontFamily="Consolas,Monaco,monospace"
                      FontSize="12"
                      Background="White"
                      Watermark="转义结果将显示在这里"/>
            </StackPanel>
          </Border>
        </Grid>
        
      </Grid>
    </ScrollViewer>
  </Grid>
</UserControl>
